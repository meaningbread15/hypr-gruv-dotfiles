# ~/.config/tmux/tmux.conf
# Gruvbox themed tmux configuration

# Set prefix to Ctrl+s
unbind C-b
set-option -g prefix C-s
bind-key C-s send-prefix

# Basic settings
set -g mouse on
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Vi mode
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel

# Pane splitting
bind-key s split-window -h -c "#{pane_current_path}"
bind-key v split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Pane navigation (Alt + vim keys)
bind-key -n M-h select-pane -L
bind-key -n M-j select-pane -D
bind-key -n M-k select-pane -U
bind-key -n M-l select-pane -R

# Pane resizing (Shift + vim keys)
bind-key H resize-pane -L 5
bind-key J resize-pane -D 5
bind-key K resize-pane -U 5
bind-key L resize-pane -R 5

# Window navigation
bind-key n next-window
bind-key p previous-window

# Quick config reload
bind-key r source-file ~/.config/tmux/tmux.conf \; display-message "Config reloaded!"

# Status bar position (top)
set-option -g status-position bottom

# Color scheme matching Waybar
# Background colors
bg="#282828"  # Main background from waybar
bg_light="#3c3836"
bg_lighter="#504945"

# Foreground colors
fg="#f1e4ba"  # Main text color from waybar
fg_light="#fbf1c7"
fg_dark="#a89984"

# Accent colors (from waybar)
red="#d94a30"      # Primary red accent
green="#98971a"    # Green from waybar
yellow="#fabd2f"   # Yellow from waybar
blue="#458588"
purple="#b16286"
aqua="#689d6a"

# Additional colors
orange="#fe8019"

# Status bar configuration
set -g status-style "fg=${fg},bg=${bg}"
set -g status-left-length 100
set -g status-right-length 100

# Left side: session name
set -g status-left "#[fg=${bg},bg=${yellow},bold] #S #[fg=${yellow},bg=${bg}]"

# Right side: current path and time  
set -g status-right "#[fg=${green},bg=${bg}]#[fg=${bg},bg=${green},bold] #{b:pane_current_path} #[fg=${red},bg=${green}]#[fg=${bg},bg=${red},bold] %H:%M "

# Window status
set -g window-status-format "#[fg=${fg_dark},bg=${bg}] #I:#W "
set -g window-status-current-format "#[fg=${bg},bg=${red},bold] #I:#W #[fg=${red},bg=${bg}]"

# Window separator
set -g window-status-separator ""

# Pane border
set -g pane-border-style "fg=${bg_lighter}"
set -g pane-active-border-style "fg=${red}"

# Message style
set -g message-style "fg=${fg_light},bg=${bg_light}"
set -g message-command-style "fg=${fg_light},bg=${bg_light}"

# Copy mode highlighting
set -g mode-style "fg=${bg},bg=${yellow}"

# Clock mode
set -g clock-mode-colour "${red}"

# Status update interval
set -g status-interval 1

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity off
set -g window-status-activity-style "fg=${red},bg=${bg}"

# Bell
set -g visual-bell off
set -g bell-action none
